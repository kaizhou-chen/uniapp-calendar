import{d as s,y as a,r as e,z as t,A as o,q as i,p as n,k as r,o as c,c as l,w as d,B as f,i as u,a as p,b as m,C as _,D as y,E as v,G as x,S as b,H as S}from"./index-CB-fBPLm.js";import{S as g}from"./ScheduleForm.CYuqpImU.js";import{u as h,_ as j}from"./plugin-vueexport-helper.Cru2XiZ3.js";const k=j(s({__name:"edit",props:{id:{}},setup(s){const j=s,k=h(),{activeDate:w}=a(k),I=e(),J=e(0);t((()=>{o({success:function(s){const{bottom:a}=s.safeAreaInsets;J.value=a}})})),i((async()=>{await n();const s=r(w.value);if(s){const a=JSON.parse(s).find((s=>s.id==j.id));I.value.initEdit(a)}}));const N=s=>{_()},O=()=>{y({title:"提示",content:"确定要删除吗？",success:s=>{s.confirm&&z()}})},z=()=>{const s=w.value,a=r(s);if(a){const e=JSON.parse(a),t=e.findIndex((s=>s.id==j.id));e.splice(t,1),v(s,JSON.stringify(e)),x({icon:"none",title:"删除成功"}),_()}};return(s,a)=>{const e=b,t=S,o=u;return c(),l(o,{class:"wrap",style:f({"padding-bottom":J.value+"px","box-sizing":"border-box"})},{default:d((()=>[p(e,{style:{flex:"1"}},{default:d((()=>[p(g,{ref_key:"formRef",ref:I,type:"edit",onSubmit:N},null,512)])),_:1}),p(o,{class:"operator"},{default:d((()=>[p(t,{style:{float:"right"},onClick:O},{default:d((()=>[m("删除")])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-a542e03c"]]);export{k as default};
